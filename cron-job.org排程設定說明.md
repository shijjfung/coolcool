# cron-job.org 排程設定說明

## 問題

cron-job.org 的預設選項中可能沒有「每 3 分鐘」的選項。

## 解決方案

### 方案 A：使用自訂 Cron 表達式（推薦）⭐

1. 在 cron-job.org 的排程設定中：
   - 選擇 **"自訂"** 或 **"Custom"** 或 **"Cron Expression"**
   - 輸入以下 cron 表達式：
     ```
     */3 * * * *
     ```
   - 這表示：每 3 分鐘執行一次

**Cron 表達式說明**：
- `*/3` = 每 3 分鐘
- `*/1` = 每 1 分鐘
- `*/5` = 每 5 分鐘
- `*/10` = 每 10 分鐘

### 方案 B：使用「每分鐘」+ 表單設定

如果沒有「自訂」選項：

1. **在 cron-job.org**：
   - 選擇 **"每分鐘"** 或 **"Every minute"**
   - 這樣會每 1 分鐘觸發一次 API

2. **在後台表單設定**：
   - 找到「掃描間隔（分鐘）」欄位
   - 設定為 `3`
   - 系統會自動跳過未達 3 分鐘間隔的觸發

**結果**：實際每 3 分鐘掃描一次

### 方案 C：使用「每 5 分鐘」

如果只有固定選項（每 5 分鐘、每 10 分鐘等）：

1. **在 cron-job.org**：
   - 選擇 **"每 5 分鐘"** 或 **"Every 5 minutes"**

2. **在後台表單設定**：
   - 將掃描間隔設為 `5` 分鐘

**結果**：每 5 分鐘掃描一次

## 常見 Cron 表達式

如果您想使用自訂排程，以下是常用的 cron 表達式：

| 頻率 | Cron 表達式 | 說明 |
|------|------------|------|
| 每 1 分鐘 | `*/1 * * * *` 或 `* * * * *` | 每分鐘執行 |
| 每 3 分鐘 | `*/3 * * * *` | 每 3 分鐘執行 |
| 每 5 分鐘 | `*/5 * * * *` | 每 5 分鐘執行 |
| 每 10 分鐘 | `*/10 * * * *` | 每 10 分鐘執行 |
| 每 15 分鐘 | `*/15 * * * *` | 每 15 分鐘執行 |
| 每 30 分鐘 | `*/30 * * * *` | 每 30 分鐘執行 |
| 每小時 | `0 * * * *` | 每小時的 0 分執行 |
| 每天 02:00 | `0 2 * * *` | 每天凌晨 2 點執行 |

## Cron 表達式格式說明

```
* * * * *
│ │ │ │ │
│ │ │ │ └─── 星期幾 (0-7, 0 和 7 都表示星期日)
│ │ │ └───── 月份 (1-12)
│ │ └─────── 日期 (1-31)
│ └───────── 小時 (0-23)
└─────────── 分鐘 (0-59)
```

**範例**：
- `*/3 * * * *` = 每 3 分鐘
- `0 */2 * * *` = 每 2 小時
- `0 9 * * 1-5` = 週一到週五的早上 9 點

## 推薦設定

### 如果您想要每 3 分鐘掃描：

**最佳方案**：
- cron-job.org：使用自訂 cron 表達式 `*/3 * * * *`
- 表單設定：掃描間隔 3 分鐘

**替代方案**：
- cron-job.org：選擇「每分鐘」
- 表單設定：掃描間隔 3 分鐘

### 如果您想要每 1 分鐘掃描：

- cron-job.org：選擇「每分鐘」或使用 `*/1 * * * *`
- 表單設定：掃描間隔 1 分鐘

## 如何確認設定是否正確

1. **在 cron-job.org**：
   - 查看任務詳情
   - 確認排程顯示為「每 3 分鐘」或 cron 表達式 `*/3 * * * *`

2. **檢查執行記錄**：
   - 在 cron-job.org 查看執行記錄
   - 應該每 3 分鐘有一次執行記錄

3. **檢查實際掃描**：
   - 查看 Vercel Function Logs
   - 確認實際掃描間隔是否符合設定

