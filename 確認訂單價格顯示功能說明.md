# 確認訂單價格顯示功能說明

## ✅ 已完成的功能

現在在確認訂單的對話框中會顯示：
1. ✅ **個別單樣價格**：每個有價格的欄位顯示單價（元/單位）和小計
2. ✅ **總計價格**：所有有價格欄位的總和（顯示在底部）

## 📊 功能展示

### 確認訂單對話框

```
┌─────────────────────────────────────────────┐
│  確認訂單資訊                              │
│  請確認以下訂單資訊是否正確：              │
│                                             │
│  姓名：張三                                 │
│  電話：0912345678                           │
│                                             │
│  高麗菜口味 (90元/單位)                    │
│  2 單位                   小計: 180 元     │
│                                             │
│  泡菜口味 (100元/單位)                     │
│  3 單位                   小計: 300 元     │
│                                             │
│  ─────────────────────────────────────     │
│  總計價格：              480 元            │
│  (綠色背景區塊)                            │
│                                             │
│  [返回修改]  [確認送出]                    │
└─────────────────────────────────────────────┘
```

## 🎯 顯示內容

### 1. 個別單樣價格

對於每個有價格的欄位，會顯示：

- **欄位名稱** + **(單價元/單位)**
  - 例如：高麗菜口味 (90元/單位)
  
- **數量** + **單位**
  - 例如：2 單位

- **小計**（右側對齊）
  - 例如：180 元
  - 計算方式：數量 × 單價

### 2. 總計價格

在確認對話框底部，會顯示：

- **總計價格**：XXX 元
- 使用綠色背景區塊突出顯示
- 大號粗體字，清晰易見

## 💡 功能特點

### 1. 清晰顯示

- ✅ **單價標示**：每個有價格的欄位都顯示單價
- ✅ **小計顯示**：每個項目都有獨立的小計
- ✅ **總計突出**：總計價格使用綠色背景，大號字體

### 2. 智能顯示

- ✅ **只顯示有價格的欄位**：沒有價格的欄位不顯示價格資訊
- ✅ **只計算有數量的項目**：數量為 0 的項目不參與計算
- ✅ **自動計算**：所有價格都是即時計算

### 3. 視覺效果

- ✅ **單價**：藍色文字，顯示在欄位名稱旁邊
- ✅ **小計**：綠色粗體，右側對齊
- ✅ **總計**：綠色背景區塊，大號粗體

## 📝 實際範例

### 範例：餐飲表單

**表單設定**：
- 高麗菜口味：90 元
- 泡菜口味：100 元
- 備註：（無價格）

**客戶輸入**：
- 高麗菜口味：2 份
- 泡菜口味：3 份
- 備註：請盡快送達

**確認對話框顯示**：

```
姓名：張三
電話：0912345678

高麗菜口味 (90元/單位)
2 單位                   小計: 180 元

泡菜口味 (100元/單位)
3 單位                   小計: 300 元

備註
請盡快送達

─────────────────────────
總計價格：              480 元
```

## 🔧 技術細節

### 計算邏輯

```typescript
// 計算單項總計
const quantity = field.type === 'number' 
  ? (parseFloat(String(value)) || 0) 
  : 0;
const itemTotal = field.price && field.price > 0 && quantity > 0 
  ? quantity * field.price 
  : 0;

// 計算總計（使用已有的 calculateTotal 函數）
const total = calculateTotal();
```

### 顯示條件

1. **單價顯示**：
   - 欄位有設定價格（`field.price > 0`）
   - 顯示格式：`(90元/單位)`

2. **小計顯示**：
   - 欄位有價格且數量 > 0
   - 顯示格式：`小計: 180 元`

3. **總計顯示**：
   - 至少有一個欄位有價格且數量 > 0
   - 顯示格式：`總計價格：480 元`

## ✅ 總結

現在確認訂單對話框會顯示：
- ✅ **個別單樣價格**：每個有價格的欄位顯示單價和小計
- ✅ **總計價格**：所有有價格欄位的總和（綠色背景區塊）
- ✅ **清晰易見**：價格資訊一目了然
- ✅ **自動計算**：所有價格都是即時計算

**功能已完全實作，可以立即使用！** 🎉

