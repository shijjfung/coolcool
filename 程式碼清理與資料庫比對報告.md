# ç¨‹å¼ç¢¼æ¸…ç†èˆ‡è³‡æ–™åº«æ¯”å°å ±å‘Š

## âœ… å·²å®Œæˆçš„æ¸…ç†

### 1. ç§»é™¤ select é¡å‹ç›¸é—œç¨‹å¼ç¢¼

**å·²ä¿®å¾©çš„æª”æ¡ˆï¼š**
- âœ… `lib/message-parser.ts` - ç§»é™¤ select é¡å‹æª¢æŸ¥
- âœ… `pages/api/reports/[formId].ts` - ç§»é™¤ select é¡å‹çµ±è¨ˆ
- âœ… `pages/form/[token].tsx` - ç§»é™¤ select é¡å‹é¡¯ç¤ºé‚è¼¯
- âœ… `pages/api/orders/[token]/download.ts` - ç§»é™¤ select é¡å‹è™•ç†

### 2. ä¿®å¾©é¡å‹éŒ¯èª¤

**å·²ä¿®å¾©çš„æª”æ¡ˆï¼š**
- âœ… `pages/api/facebook/auto-monitor.ts` - æ·»åŠ  FormField é¡å‹
- âœ… `pages/api/facebook/fetch-comments.ts` - æ·»åŠ  FormField é¡å‹
- âœ… `pages/form/[token].tsx` - ä¿®å¾© callback å‡½æ•¸é¡å‹
- âœ… `pages/admin/create.tsx` - ä½¿ç”¨ pickup_time å±¬æ€§

### 3. SQLite æ¢ä»¶è¼‰å…¥

**å·²ä¿®å¾©çš„æª”æ¡ˆï¼š**
- âœ… `lib/db.ts` - SQLite ç›¸é—œä»£ç¢¼æ”¹ç‚ºæ¢ä»¶è¼‰å…¥
- âœ… `pages/api/debug/check-db.ts` - æ”¯æ´ Supabase æ¨¡å¼

---

## ğŸ“Š è³‡æ–™åº«çµæ§‹æ¯”å°

### SQLite çµæ§‹ï¼ˆlib/db.tsï¼‰

**forms è¡¨ï¼š**
- âœ… id, name, fields, deadline
- âœ… order_deadline, order_limit, pickup_time
- âœ… report_generated, report_generated_at
- âœ… deleted, deleted_at
- âœ… created_at, form_token

**orders è¡¨ï¼š**
- âœ… id, form_id, customer_name, customer_phone
- âœ… order_data, items_summary
- âœ… client_ip, user_agent
- âœ… created_at, updated_at, order_token

**settings è¡¨ï¼š**
- âœ… key, value, updated_at

**reserved_orders è¡¨ï¼š**
- âœ… id, form_id, session_id, order_number
- âœ… reserved_at, order_token, created_at

### Supabase çµæ§‹ï¼ˆsupabase-complete-schema.sqlï¼‰

**forms è¡¨ï¼š**
- âœ… id, name, fields, deadline
- âœ… order_deadline, order_limit, pickup_time
- âœ… report_generated, report_generated_at
- âœ… deleted, deleted_at
- âœ… created_at, form_token

**orders è¡¨ï¼š**
- âœ… id, form_id, customer_name, customer_phone
- âœ… order_data, items_summary
- âœ… client_ip, user_agent
- âœ… created_at, updated_at, order_token

**settings è¡¨ï¼š**
- âœ… key, value, updated_at

**reserved_orders è¡¨ï¼š**
- âœ… id, form_id, session_id, order_number
- âœ… reserved_at, order_token, created_at

### âœ… æ¯”å°çµæœï¼šçµæ§‹ä¸€è‡´

---

## ğŸ” éœ€è¦æª¢æŸ¥çš„é …ç›®

### 1. æœªä½¿ç”¨çš„å°å…¥

**æª¢æŸ¥ä¸­...**

### 2. è¨»è§£æ‰çš„ç¨‹å¼ç¢¼

**æª¢æŸ¥ä¸­...**

### 3. é‡è¤‡çš„å‡½æ•¸

**æª¢æŸ¥ä¸­...**

---

## ğŸ“ å»ºè­°

1. **ä¿ç•™ `options?: string[]` å±¬æ€§**ï¼ˆå‘å¾Œç›¸å®¹æ€§ï¼‰
   - é›–ç„¶ select é¡å‹å·²ç§»é™¤ï¼Œä½†ä¿ç•™ options å±¬æ€§å¯ä»¥ç¢ºä¿èˆŠè³‡æ–™ä¸æœƒå‡ºéŒ¯

2. **æ¸…ç†æœªä½¿ç”¨çš„æª”æ¡ˆ**
   - æª¢æŸ¥æ˜¯å¦æœ‰æ¸¬è©¦æª”æ¡ˆæˆ–ç¯„ä¾‹æª”æ¡ˆå¯ä»¥ç§»é™¤

3. **çµ±ä¸€å‘½åè¦ç¯„**
   - ç¢ºèªæ‰€æœ‰åœ°æ–¹éƒ½ä½¿ç”¨ `pickup_time` è€Œä¸æ˜¯ `pickupTime`

---

## ğŸš€ ä¸‹ä¸€æ­¥

1. æ¨é€æ‰€æœ‰æ¸…ç†å¾Œçš„ä»£ç¢¼
2. åœ¨ Supabase åŸ·è¡Œ `supabase-complete-schema.sql`
3. æ¸¬è©¦éƒ¨ç½²

